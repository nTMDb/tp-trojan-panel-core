syntax = "proto3";

option go_package = ".;api";

service ApiNodeService {
  rpc AddNode(NodeAddDto) returns (Response) {}
  rpc RemoveNode(NodeRemoveDto) returns (Response) {}
}

service ApiAccountService {
  rpc RemoveAccount(AccountRemoveDto) returns (Response) {}
}

message NodeAddDto {
  uint64 NodeTypeId = 1;
  uint64 Port = 2;

  string XrayProtocol = 3;
  string XraySettings = 4;
  string XrayStreamSettings = 5;
  string XrayTag = 6;
  string XraySniffing = 7;
  string XrayAllocate = 8;

  string TrojanGoIp = 9;
  string TrojanGoSni = 10;
  uint64 TrojanGoMuxEnable = 11;
  uint64 TrojanGoWebsocketEnable = 12;
  string TrojanGoWebsocketPath = 13;
  string TrojanGoWebsocketHost = 14;
  uint64 TrojanGoSSEnable = 15;
  string TrojanGoSSMethod = 16;
  string TrojanGoSSPassword = 17;

  string HysteriaProtocol = 18;
  string HysteriaIp = 19;
  int64 HysteriaUpMbps = 20;
  int64 HysteriaDownMbps = 21;
}

message NodeRemoveDto {
  uint64 NodeType = 1;
  uint64 Port = 2;
}

message AccountRemoveDto {
  string Password = 1;
}

message Response {
  bool Success = 1;
  string Msg = 2;
}